{"version":3,"sources":["uni-app:///main.js","webpack:////Users/zhongkiki/每日必点/exercise/testUniapp/testUniapp/pages/function/facerecognition.vue?1657","webpack:////Users/zhongkiki/每日必点/exercise/testUniapp/testUniapp/pages/function/facerecognition.vue?c7db","webpack:////Users/zhongkiki/每日必点/exercise/testUniapp/testUniapp/pages/function/facerecognition.vue?3559","webpack:////Users/zhongkiki/每日必点/exercise/testUniapp/testUniapp/pages/function/facerecognition.vue?a508","uni-app:///pages/function/facerecognition.vue","webpack:////Users/zhongkiki/每日必点/exercise/testUniapp/testUniapp/pages/function/facerecognition.vue?8ff8","webpack:////Users/zhongkiki/每日必点/exercise/testUniapp/testUniapp/pages/function/facerecognition.vue?c262"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,mH;AACAA,UAAU,CAACC,wBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwI;AACxI;AACmE;AACL;AACsC;;;AAGpG;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,sGAAM;AACR,EAAE,+GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA41B,CAAgB,6yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2Ch3B;AACA;AACA,aADA;AAEA,iBAFA;AAGA,iBAHA;AAIA,gBAJA,EADA;;AAOA,QAPA,oBAOA;AACA;AACA,GATA;AAUA,SAVA,qBAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAUA;AACA;;;;;;;AAOA,OArBA;;AAuBA,GArCA;AAsCA;AACA,SADA,mBACA,EADA;AAEA,eAFA,uBAEA,CAFA,EAEA;AACA;AACA,KAJA;AAKA,aALA,qBAKA,CALA,EAKA;AACA;AACA,KAPA;AAQA,SARA,iBAQA,CARA,EAQA;AACA;AACA,KAVA;AAWA;AACA;AACA;AACA;AACA,SAHA;;AAKA,KAjBA;AAkBA;AACA;AACA;AACA;AACA,SAHA;;AAKA,KAxBA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;;AAMA,KAlCA;AAmCA;AACA,gBApCA,0BAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WANA,EAMA,IANA;AAOA,SAVA;;AAYA,KAnDA;AAoDA;AACA,eArDA,uBAqDA,OArDA,EAqDA;AACA;AACA;AACA,oBADA;AAEA,oBAFA;AAGA,uBAHA;AAIA,mBAJA,EADA;;AAOA;AACA;AACA;AACA;AACA,2CADA,CACA;AACA;AACA;AACA,WAJA;AAKA;AACA;AACA,0DADA;;AAGA,SAXA,EAWA,IAXA;AAYA,OApBA;AAqBA;AACA;AACA,OAvBA;;AAyBA,KA/EA;AAgFA,YAhFA,sBAgFA;AACA;AACA,gBADA;;AAGA,KApFA,EAtCA,E;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAyjD,CAAgB,+5CAAG,EAAC,C;;;;;;;;;;;ACA7kD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/function/facerecognition.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/function/facerecognition.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./facerecognition.vue?vue&type=template&id=a6fa6208&scoped=true&\"\nvar renderjs\nimport script from \"./facerecognition.vue?vue&type=script&lang=js&\"\nexport * from \"./facerecognition.vue?vue&type=script&lang=js&\"\nimport style0 from \"./facerecognition.vue?vue&type=style&index=0&id=a6fa6208&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6fa6208\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/function/facerecognition.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./facerecognition.vue?vue&type=template&id=a6fa6208&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./facerecognition.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./facerecognition.vue?vue&type=script&lang=js&\"","<!-- 人脸识别 -->\n<template>\n  <view>\n    <view class=\"custom\" :style=\"{height: CustomBar+'px'}\">\n      <view class=\"navcontent\" :style=\"[{top:statusBar + 'px'}]\">\n        <text\n          style=\"color: #FFFFFF;font-size: 16px;line-height: 45px;\"\n          class=\"iconfont icon-xiangzuo\"\n          @click=\"BackPage\"\n        >返回</text>\n        <text style=\"color: #FFFFFF;font-size: 16px;line-height: 45px;\">人脸识别</text>\n        <text></text>\n      </view>\n    </view>\n\n    <view class=\"livefater\">\n      <view\n        style=\"width: 350px;height: 350px;border-radius: 350px;overflow: hidden;background-color: #CCCCCC;\"\n      >\n        <live-pusher\n          id=\"livePusher\"\n          ref=\"livePusher\"\n          class=\"livePusher\"\n          url\n          mode=\"SD\"\n          :muted=\"true\"\n          :enable-camera=\"true\"\n          :auto-focus=\"true\"\n          :beauty=\"1\"\n          whiteness=\"2\"\n          aspect=\"1:1\"\n          @statechange=\"statechange\"\n          @netstatus=\"netstatus\"\n          @error=\"error\"\n        ></live-pusher>\n      </view>\n      <cover-image src=\"../../static/img/gai.png\" class=\"gaiimg\"></cover-image>\n    </view>\n    <button class=\"btn\" @click=\"startPreview\">打开摄像头进行人脸识别</button>\n  </view>\n</template>\n\n<script>\nexport default {\n  data: {\n    fil: true,\n    imgList: [\"\"],\n    statusBar: \"\",\n    CustomBar: 0\n  },\n  onLoad() {\n    // this.startPreview()\n  },\n  onReady() {\n    // 注意：需要在onReady中 或 onLoad 延时\n    this.context = uni.createLivePusherContext(\"livePusher\", this);\n    var that = this;\n    uni.getSystemInfo({\n      success: function(e) {\n        // 计算导航栏高度\n        that.statusBar = e.statusBarHeight;\n        // #ifndef MP\n        if (e.platform == \"android\") {\n          that.CustomBar = e.statusBarHeight + 50;\n        } else {\n          that.CustomBar = e.statusBarHeight + 45;\n        }\n        console.log(that.statusBar);\n        // #endif\n        // #ifdef MP-WEIXIN\n        let custom = wx.getMenuButtonBoundingClientRect();\n        that.CustomBar = custom.bottom + custom.top - e.statusBarHeight;\n\n        // #endif\n\n        // #ifdef MP-ALIPAY\n        that.CustomBar = e.statusBarHeight + e.titleBarHeight;\n        // #endif\n      }\n    });\n  },\n  methods: {\n    Timer() {},\n    statechange(e) {\n      console.log(\"statechange:\" + JSON.stringify(e));\n    },\n    netstatus(e) {\n      console.log(\"netstatus:\" + JSON.stringify(e));\n    },\n    error(e) {\n      console.log(\"error:\" + JSON.stringify(e));\n    },\n    start: function() {\n      this.context.start({\n        success: a => {\n          console.log(\"livePusher.start:\" + JSON.stringify(a));\n        }\n      });\n    },\n    close: function() {\n      this.context.close({\n        success: a => {\n          console.log(\"livePusher.close:\" + JSON.stringify(a));\n        }\n      });\n    },\n    // 拍照事件\n    snapshot: function() {\n      var that = this;\n      this.context.snapshot({\n        success: e => {\n          console.log(JSON.stringify(e));\n          that.getMinImage(e.message.tempImagePath);\n        }\n      });\n    },\n    // 开启摄像头\n    startPreview() {\n      console.log(\"1\");\n      var that = this;\n      this.context.startPreview({\n        success: a => {\n          console.log(\"livePusher.startPreview:\" + JSON.stringify(a));\n          that.Timer = setInterval(function() {\n            that.snapshot();\n            if (that.imgList.length > 3) {\n              console.log(\"3\");\n              clearInterval(that.Timer);\n            }\n          }, 2000);\n        }\n      });\n    },\n    // 使用plus.zip.compressImage压缩图片并转换成base64\n    getMinImage(imgPath) {\n      plus.zip.compressImage(\n        {\n          src: imgPath,\n          dst: imgPath,\n          overwrite: true,\n          quality: 40\n        },\n        zipRes => {\n          setTimeout(() => {\n            var reader = new plus.io.FileReader();\n            reader.onloadend = res => {\n              var speech = res.target.result; //base64图片\n              console.log(speech);\n              this.imgList.push(speech);\n            };\n            //一定要使用plus.io.convertLocalFileSystemURL将target地址转换为本地文件地址，否则readAsDataURL会找不到文件\n            reader.readAsDataURL(\n              plus.io.convertLocalFileSystemURL(zipRes.target)\n            );\n          }, 1000);\n        },\n        function(error) {\n          console.log(\"Compress error!\", error);\n        }\n      );\n    },\n    BackPage() {\n      uni.navigateBack({\n        delta: 1\n      });\n    }\n  }\n};\n</script>\n<style lang='scss' scoped>\n.custom {\n  background-color: #2c65f7;\n}\n.navcontent {\n  height: 45px;\n  display: -ms-flex;\n  display: -webkit-flex;\n  display: flex;\n  justify-content: space-around;\n  flex-direction: row;\n  color: #ffffff;\n}\n.livePusher {\n  width: 350px;\n  height: 350px;\n}\n.livefater {\n  display: -ms-flex;\n  display: -webkit-flex;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 50rpx;\n  margin-bottom: 50rpx;\n  height: 350px;\n}\n.gaiimg {\n  width: 350px;\n  height: 350px;\n  margin-top: -350px;\n}\n</style>","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./facerecognition.vue?vue&type=style&index=0&id=a6fa6208&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./facerecognition.vue?vue&type=style&index=0&id=a6fa6208&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1619317516345\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}